import{a as re,b as ae,c as me,d as se,e as le}from"./chunk-GC4U4O67.js";import{a as u}from"./chunk-H2PZZXPW.js";import{a as ee,b as te,c as oe,d as ie,e as ne,f as ce}from"./chunk-2QT6SZK3.js";import{a as Q}from"./chunk-LZDUOOG4.js";import{$a as L,Aa as n,Ac as H,Ba as o,Ca as p,Fb as z,Ga as F,Gb as _,H as v,Hb as G,Ib as $,Ic as J,Id as w,Ja as P,Jb as h,Jc as K,Jd as W,K as g,La as U,Ld as X,N as l,O as C,Qd as Y,Rd as Z,T as E,U as O,Xa as x,Ya as r,cb as M,da as m,ea as d,eb as N,fb as j,ma as f,n as R,ra as s,sb as B,ub as V,wa as b,wb as S,zc as q}from"./chunk-RFUKYTJG.js";var pe=(e,i)=>{let t=g(u),a=g(_),c=g(Q);return t.verifyToken().pipe(R(A=>A?!0:(c.open("Inicie sesi\xF3n para continuar","Cerrar",{duration:3e3}),a.createUrlTree(["/login"],{queryParams:{returnUrl:i.url}}))))};var ve=()=>["/dashboard/students"],ge=()=>["/dashboard/courses"],Ce=()=>["/dashboard/classes"],be=()=>["/dashboard/users"];function xe(e,i){e&1&&(n(0,"a",0)(1,"mat-icon"),r(2,"person"),o(),r(3," Usuarios "),o()),e&2&&s("routerLink",M(1,be))}var y=class e{constructor(i){this.authService=i}isAdmin(){let i=this.authService.getCurrentUser();return i!==null&&i.role==="ADMIN"}static \u0275fac=function(t){return new(t||e)(d(u))};static \u0275cmp=l({type:e,selectors:[["app-sidenav"]],decls:14,vars:7,consts:[["mat-list-item","",3,"routerLink"],["mat-list-item","","routerLinkActive","active-link",3,"routerLink"]],template:function(t,a){t&1&&(n(0,"mat-nav-list"),f(1,xe,4,2,"a",0),n(2,"a",1)(3,"mat-icon"),r(4,"group"),o(),r(5," Alumnos "),o(),n(6,"a",1)(7,"mat-icon"),r(8,"school"),o(),r(9," Cursos "),o(),n(10,"a",1)(11,"mat-icon"),r(12,"menu_book"),o(),r(13," Clases "),o()()),t&2&&(m(),b(a.isAdmin()?1:-1),m(),s("routerLink",M(4,ve)),m(4),s("routerLink",M(5,ge)),m(4),s("routerLink",M(6,Ce)))},dependencies:[G,$,Z,Y,w],styles:["mat-icon[_ngcontent-%COMP%]{margin:auto 10px auto auto;align-self:center}a[_ngcontent-%COMP%]{font-size:1.5rem}.active-link[_ngcontent-%COMP%]{background-color:#004f4e}"]})};function _e(e,i){e&1&&(n(0,"mat-icon"),r(1,"close"),o())}function we(e,i){e&1&&(n(0,"mat-icon"),r(1,"menu"),o())}function ye(e,i){if(e&1&&(n(0,"button",8),r(1),o()),e&2){let t=i.$implicit;U();let a=x(17);s("matMenuTriggerFor",a),m(),L(" ",t.firstName[0],"",t.lastName[0]," ")}}var k=class e{constructor(i,t){this.authService=i;this.router=t;this.authUser=this.authService.authUser$}drawer;authUser;onLogout(){this.authService.logout(),this.router.navigate(["/welcome"]).then()}static \u0275fac=function(t){return new(t||e)(d(u),d(_))};static \u0275cmp=l({type:e,selectors:[["app-toolbar"]],inputs:{drawer:"drawer"},decls:22,vars:4,consts:[["userMenu","matMenu"],["mat-icon-button","","aria-label","Menu icon",1,"example-icon",3,"click"],[1,"mat-title-large"],[1,"example-spacer"],["mat-icon-button","","matBadge","4","aria-label","Notifications",1,"notifications-icon"],["class","user","mat-icon-button","","mat-card-avatar","",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","before"],["mat-menu-item","",3,"click"],["mat-icon-button","","mat-card-avatar","",1,"user",3,"matMenuTriggerFor"]],template:function(t,a){if(t&1){let c=F();n(0,"mat-toolbar")(1,"div")(2,"button",1),P("click",function(){return E(c),O(a.drawer.toggle())}),f(3,_e,2,0,"mat-icon")(4,we,2,0,"mat-icon"),o(),n(5,"span",2)(6,"span"),r(7,"CodeX"),o(),r(8," Learning"),o()(),p(9,"span",3),n(10,"div")(11,"button",4)(12,"mat-icon"),r(13,"notifications"),o()(),f(14,ye,2,3,"button",5),N(15,"async"),n(16,"mat-menu",6,0)(18,"button",7),P("click",function(){return E(c),O(a.onLogout())}),n(19,"mat-icon"),r(20,"logout"),o(),r(21," Cerrar sesi\xF3n "),o()()()()}t&2&&(m(3),b(a.drawer.opened?3:4),m(11),s("ngIf",j(15,2,a.authUser)))},dependencies:[B,w,ee,q,te,ie,oe,ne,J,V],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:#004f4e;color:#00bcd4}span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.user[_ngcontent-%COMP%]{color:#ff9800;background-color:#ffa1004d}"]})};var D=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=l({type:e,selectors:[["app-dashboard"]],decls:9,vars:1,consts:[["drawer",""],[3,"drawer"],[1,"example-container"],["mode","side",1,"example-sidenav"],[1,"main-content"]],template:function(t,a){if(t&1&&(n(0,"main"),p(1,"app-toolbar",1),n(2,"mat-drawer-container",2)(3,"mat-drawer",3,0),p(5,"app-sidenav"),o(),n(6,"mat-drawer-content")(7,"div",4),p(8,"router-outlet"),o()()()()),t&2){let c=x(4);m(),s("drawer",c)}},dependencies:[z,y,k,ae,me,re],styles:["main[_ngcontent-%COMP%]{width:100%;min-height:100%;box-sizing:inherit;position:relative;display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%]{flex-grow:1;border:1px solid rgba(0,0,0,.5);background-color:#181e1e}.main-content[_ngcontent-%COMP%]{flex-grow:1;width:100%;height:100%}.example-sidenav[_ngcontent-%COMP%]{padding:20px;max-width:300px;border-right:2px solid #00BCD4;border-radius:0}"]})};var ke=[{path:"",component:D,canActivate:[pe],children:[{path:"students",loadChildren:()=>import("./chunk-KAF6HMRX.js").then(e=>e.StudentsModule)},{path:"courses",loadChildren:()=>import("./chunk-XPNEL42T.js").then(e=>e.CoursesModule)},{path:"classes",loadChildren:()=>import("./chunk-PYMKBSYT.js").then(e=>e.ClassesModule)},{path:"users",loadChildren:()=>import("./chunk-CARVXTS6.js").then(e=>e.UsersModule)},{path:"",redirectTo:"students",pathMatch:"full"}]}],I=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=C({type:e});static \u0275inj=v({imports:[S,h.forChild(ke),h]})};var fe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=C({type:e});static \u0275inj=v({imports:[S,I,le,h,ce,K,H,W,X,se]})};export{fe as DashboardModule};
